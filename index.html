<!DOCTYPE html>
<html>
<head>
    <title>Real-time Dashboard</title>
</head>
<style>
    #fuel_needed_to_finish_race {
        font-size: 9em;
    }

    #fuel_div {
        font-size: 2em;
    }

    body {
        background-color: #222;
        color: #ddd;
    }

    a {
        color: #6cf;
    }

    a:hover {
        color: #9cf;
    }

</style>
<body>
<b>Sprit n√∂tig um Rennen zu beenden</b>
<div id="fuel_needed_to_finish_race"></div>

<div id="fuel_div"></div>

<b>Speed</b>
<div id="speed"></div>
<b>Sprit verbleibend</b>
<div id="fuel_left"></div>

<b>Package Id</b>
<div id="package_id"></div>

<b>Spritverbrauch letzte Rd.</b>
<div id="fuel_consumption_last_lap"></div>

<b>Spritverbrauch Durchschnitt</b>
<div id="fuel_consumption_avg"></div>

<b>Renndauer</b>
<div id="race_time_in_minutes"></div>

<b>Dauer Rennen</b>
<div id="time_since_start"></div>

<script>
    const dashboard = document.getElementById('dashboard');
    const socket = new WebSocket('ws://localhost:9100/ws');

    socket.addEventListener('message', (event) => {
        const data = JSON.parse(event.data);
        fuel_left.textContent = data.fuel_left + '%';
        fuel_div.textContent = data.fuel_div + '%';
        speed.textContent = data.speed + ' km/h';
        package_id.textContent = data.package_id;
        fuel_consumption_last_lap.textContent = data.fuel_consumption_last_lap
        fuel_consumption_avg.textContent = data.fuel_consumption_avg
        time_since_start.textContent = data.time_since_start;
        race_time_in_minutes.textContent = data.race_time_in_minutes + " min";
        fuel_needed_to_finish_race.textContent = data.fuel_needed_to_finish_race + " %";
    });
</script>
</body>
</html>
